{
  "system": {
    "hostname": "fedora-htpc",
    "kernel": "6.17.6-200.fc42.x86_64",
    "os": "Fedora release 42 (Adams)",
    "selinux": "Enforcing",
    "uptime_seconds": 710888,
    "timestamp": "2025-11-12T17:27:38+01:00",
    "snapshot_version": "1.1"
  },
  "services": {
    "jellyfin": {
      "image": "docker.io/jellyfin/jellyfin:latest",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-08 19:50:42.434116341 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-media_services", "systemd-monitoring", "systemd-reverse_proxy"],
      "ports": ["7359/udp", "8096/tcp"],
      "volumes": ["/mnt/btrfs-pool/subvol5-music:/media/music", "/home/patriark/containers/config/jellyfin:/config", "/mnt/btrfs-pool/subvol7-containers/jellyfin/data:/data", "/mnt/btrfs-pool/subvol6-tmp/jellyfin-cache:/cache", "/mnt/btrfs-pool/subvol6-tmp/jellyfin-transcodes:/config/transcodes", "/mnt/btrfs-pool/subvol4-multimedia:/media/multimedia"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/jellyfin.container"
    }
,
    "postgresql-immich": {
      "image": "ghcr.io/immich-app/postgres:14-vectorchord0.4.3-pgvectors0.2.0",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-09 21:32:38.734869012 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-photos"],
      "ports": ["5432/tcp"],
      "volumes": ["/mnt/btrfs-pool/subvol7-containers/postgresql-immich:/var/lib/postgresql/data"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/postgresql-immich.container"
    }
,
    "redis-immich": {
      "image": "docker.io/valkey/valkey:8",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-09 21:32:48.431461822 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-photos"],
      "ports": ["6379/tcp"],
      "volumes": ["/mnt/btrfs-pool/subvol7-containers/redis-immich:/data"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/redis-immich.container"
    }
,
    "immich-server": {
      "image": "ghcr.io/immich-app/immich-server:release",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-09 21:33:15.008051539 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-monitoring", "systemd-photos", "systemd-reverse_proxy"],
      "ports": ["2283/tcp"],
      "volumes": ["/home/patriark/.local/share/containers/storage/volumes/f8d1c1ce7be3cf4fb494cced2abd53faba79b4a192700a28124ca2c693a179ea/_data:/data", "/mnt/btrfs-pool/subvol3-opptak/immich:/usr/src/app/upload", "/mnt/btrfs-pool/subvol3-opptak/immich/library:/mnt/media"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/immich-server.container"
    }
,
    "loki": {
      "image": "docker.io/grafana/loki:3.2.1",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-09 21:33:28.363014605 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-monitoring", "systemd-reverse_proxy"],
      "ports": ["3100/tcp"],
      "volumes": ["/home/patriark/containers/config/loki/loki-config.yml:/etc/loki/local-config.yaml", "/mnt/btrfs-pool/subvol7-containers/loki:/loki"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/loki.container"
    }
,
    "node_exporter": {
      "image": "quay.io/prometheus/node-exporter:latest",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-09 21:33:50.039233785 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-monitoring"],
      "ports": ["9100/tcp"],
      "volumes": ["/sys:/host/sys", "/proc:/host/proc", "/:/host"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/node_exporter.container"
    }
,
    "promtail": {
      "image": "docker.io/grafana/promtail:3.2.1",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-09 21:34:10.401054452 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-monitoring"],
      "ports": [],
      "volumes": ["/home/patriark/containers/data/journal-export:/var/log/journal-export", "/home/patriark/containers/config/promtail:/etc/promtail", "/home/patriark/containers/data/promtail:/tmp"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/promtail.container"
    }
,
    "alertmanager": {
      "image": "quay.io/prometheus/alertmanager:latest",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-09 21:34:30.168182314 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-monitoring"],
      "ports": ["9093/tcp"],
      "volumes": ["/home/patriark/containers/config/alertmanager/alertmanager.yml:/etc/alertmanager/alertmanager.yml", "/home/patriark/containers/data/alertmanager:/alertmanager"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/alertmanager.container"
    }
,
    "alert-discord-relay": {
      "image": "localhost/alert-discord-relay:latest",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-09 22:37:00.724410227 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-monitoring"],
      "ports": ["9095/tcp"],
      "volumes": [],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/alert-discord-relay.container"
    }
,
    "tinyauth": {
      "image": "ghcr.io/steveiliop56/tinyauth:v4",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-10 00:42:15.700249072 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-auth_services", "systemd-reverse_proxy"],
      "ports": ["3000/tcp"],
      "volumes": ["/home/patriark/.local/share/containers/storage/volumes/53cbb66841ffe829c9f05f6e4b6f6821ed0225b305f0d00fbaae965febcf9699/_data:/data", "/home/patriark/containers/data/tinyauth:/app/data"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/tinyauth.container"
    }
,
    "immich-ml": {
      "image": "ghcr.io/immich-app/immich-machine-learning:release",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-10 22:57:30.420432129 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-photos"],
      "ports": [],
      "volumes": ["/mnt/btrfs-pool/subvol7-containers/immich-ml-cache:/cache"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/immich-ml.container"
    }
,
    "redis-authelia": {
      "image": "docker.io/library/redis:7-alpine",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-11 17:07:23.618377149 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-auth_services"],
      "ports": ["6379/tcp"],
      "volumes": ["/home/patriark/containers/data/redis-authelia:/data"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/redis-authelia.container"
    }
,
    "traefik": {
      "image": "docker.io/library/traefik:v3.2",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-11 22:14:52.522429328 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-auth_services", "systemd-monitoring", "systemd-reverse_proxy"],
      "ports": ["443/tcp", "80/tcp", "8080/tcp"],
      "volumes": ["/run/user/1000/podman/podman.sock:/var/run/podman/podman.sock", "/home/patriark/containers/scripts/traefik-entrypoint.sh:/traefik-entrypoint.sh", "/home/patriark/containers/config/traefik/traefik.yml:/etc/traefik/traefik.yml", "/home/patriark/containers/config/traefik/dynamic:/etc/traefik/dynamic", "/home/patriark/containers/config/traefik/letsencrypt:/letsencrypt"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/traefik.container"
    }
,
    "authelia": {
      "image": "docker.io/authelia/authelia:4.38",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-11 22:16:44.165268834 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-auth_services", "systemd-reverse_proxy"],
      "ports": ["9091/tcp"],
      "volumes": ["/home/patriark/containers/config/authelia:/config", "/home/patriark/containers/data/authelia:/data"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/authelia.container"
    }
,
    "homepage": {
      "image": "ghcr.io/gethomepage/homepage:latest",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-11 23:14:30.928776939 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-reverse_proxy"],
      "ports": ["3000/tcp"],
      "volumes": ["/home/patriark/containers/config/homepage:/app/config"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/homepage.container"
    }
,
    "vaultwarden": {
      "image": "docker.io/vaultwarden/server:latest",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-12 11:58:14.819584425 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-reverse_proxy"],
      "ports": ["80/tcp"],
      "volumes": ["/mnt/btrfs-pool/subvol7-containers/vaultwarden:/data"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/vaultwarden.container"
    }
,
    "cadvisor": {
      "image": "gcr.io/cadvisor/cadvisor:v0.50.0",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-12 15:47:26.311505228 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-monitoring"],
      "ports": ["8080/tcp"],
      "volumes": ["/home/patriark/.local/share/containers:/var/lib/containers", "/dev/disk:/dev/disk", "/:/rootfs", "/run/user/1000/podman/podman.sock:/var/run/docker.sock", "/sys:/sys"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/cadvisor.container"
    }
,
    "prometheus": {
      "image": "quay.io/prometheus/prometheus:latest",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-12 15:48:16.024265495 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-monitoring", "systemd-reverse_proxy"],
      "ports": ["9090/tcp"],
      "volumes": ["/home/patriark/containers/config/prometheus/alerts:/etc/prometheus/alerts", "/mnt/btrfs-pool/subvol7-containers/prometheus:/prometheus", "/home/patriark/containers/config/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/prometheus.container"
    }
,
    "grafana": {
      "image": "docker.io/grafana/grafana:11.3.0",
      "status": "running",
      "health": "healthy",
      "started": "2025-11-12 16:22:09.396271079 +0100 CET",
      "systemd_active": "active",
      "networks": ["systemd-monitoring", "systemd-reverse_proxy"],
      "ports": ["3000/tcp"],
      "volumes": ["/home/patriark/containers/config/grafana/provisioning:/etc/grafana/provisioning", "/home/patriark/containers/data/grafana:/var/lib/grafana"],
      "memory_mb": 0,
      "quadlet_file": "/home/patriark/.config/containers/systemd/grafana.container"
    }

  },
  "networks": {
    "systemd-auth_services": {
      "subnet": "10.89.3.0/24",
      "gateway": "10.89.3.1",
      "driver": "bridge",
      "containers": ["tinyauth:10.89.3.17", "redis-authelia:10.89.3.18", "traefik:10.89.3.37", "authelia:10.89.3.38"]
    }
,
    "systemd-media_services": {
      "subnet": "10.89.1.0/24",
      "gateway": "10.89.1.1",
      "driver": "bridge",
      "containers": ["jellyfin:10.89.1.9"]
    }
,
    "systemd-monitoring": {
      "subnet": "10.89.4.0/24",
      "gateway": "10.89.4.1",
      "driver": "bridge",
      "containers": ["jellyfin:10.89.4.123", "immich-server:10.89.4.132", "loki:10.89.4.133", "node_exporter:10.89.4.135", "promtail:10.89.4.136", "alertmanager:10.89.4.138", "alert-discord-relay:10.89.4.143", "traefik:10.89.4.58", "cadvisor:10.89.4.29", "prometheus:10.89.4.30", "grafana:10.89.4.34"]
    }
,
    "systemd-photos": {
      "subnet": "10.89.5.0/24",
      "gateway": "10.89.5.1",
      "driver": "bridge",
      "containers": ["postgresql-immich:10.89.5.16", "redis-immich:10.89.5.18", "immich-server:10.89.5.21", "immich-ml:10.89.5.24"]
    }
,
    "systemd-reverse_proxy": {
      "subnet": "10.89.2.0/24",
      "gateway": "10.89.2.1",
      "driver": "bridge",
      "containers": ["jellyfin:10.89.2.72", "immich-server:10.89.2.81", "loki:10.89.2.82", "tinyauth:10.89.2.89", "traefik:10.89.2.109", "authelia:10.89.2.110", "homepage:10.89.2.115", "vaultwarden:10.89.2.126", "prometheus:10.89.2.160", "grafana:10.89.2.164"]
    }
,
    "web_services": {
      "subnet": "10.89.0.0/24",
      "gateway": "10.89.0.1",
      "driver": "bridge",
      "containers": []
    }

  },
  "traefik_routing": {
    "routers_file": "/home/patriark/containers/config/traefik/dynamic/routers.yml",
    "routers": {
      "root-redirect": {
        "rule": "Host(`patriark.org`)",
        "service": "homepage",
        "middlewares": ["websecure","bouncer","limit","authelia@file"]
      }
,
      "homepage-dashboard": {
        "rule": "Host(`home.patriark.org`)",
        "service": "homepage",
        "middlewares": ["websecure","bouncer","limit","authelia@file"]
      }
,
      "tinyauth-portal": {
        "rule": "Host(`auth.patriark.org`)",
        "service": "tinyauth",
        "middlewares": ["websecure","bouncer","limit"]
      }
,
      "authelia-portal": {
        "rule": "Host(`sso.patriark.org`)",
        "service": "authelia",
        "middlewares": ["websecure","bouncer","limit"]
      }
,
      "vaultwarden-secure": {
        "rule": "Host(`vault.patriark.org`)",
        "service": "vaultwarden",
        "middlewares": ["websecure","bouncer@file","vaultwarden@file","headers@file"]
      }
,
      "traefik-dashboard": {
        "rule": "Host(`traefik.patriark.org`)",
        "service": "api@internal",
        "middlewares": ["websecure","bouncer","limit","authelia@file"]
      }
,
      "jellyfin-secure": {
        "rule": "Host(`jellyfin.patriark.org`)",
        "service": "jellyfin",
        "middlewares": ["websecure","bouncer","public","authelia@file"]
      }
,
      "immich-secure": {
        "rule": "Host(`photos.patriark.org`)",
        "service": "immich",
        "middlewares": ["websecure","bouncer","public"]
      }
,
      "grafana-secure": {
        "rule": "Host(`grafana.patriark.org`)",
        "service": "grafana",
        "middlewares": ["websecure","bouncer","limit","authelia@file"]
      }
,
      "prometheus-secure": {
        "rule": "Host(`prometheus.patriark.org`)",
        "service": "prometheus",
        "middlewares": ["websecure","bouncer","limit","authelia@file"]
      }
,
      "loki-secure": {
        "rule": "Host(`loki.patriark.org`)",
        "service": "loki",
        "middlewares": ["websecure","bouncer","limit","authelia@file"]
      }

    }
  },
  "storage": {
    "system_disk": {
      "mount": "/",
      "total_gb": 118,
      "used_gb": 90,
      "percent": 78
    },
    "btrfs_pool": {
      "mount": "/mnt/btrfs-pool",
      "total_gb": 13042,
      "used_gb": 8380,
      "percent": 65
    },
    "container_volumes": {
      "jellyfin": ["/mnt/btrfs-pool/subvol5-music:/media/music", "/home/patriark/containers/config/jellyfin:/config", "/mnt/btrfs-pool/subvol7-containers/jellyfin/data:/data", "/mnt/btrfs-pool/subvol6-tmp/jellyfin-cache:/cache", "/mnt/btrfs-pool/subvol6-tmp/jellyfin-transcodes:/config/transcodes", "/mnt/btrfs-pool/subvol4-multimedia:/media/multimedia"],
      "postgresql-immich": ["/mnt/btrfs-pool/subvol7-containers/postgresql-immich:/var/lib/postgresql/data"],
      "redis-immich": ["/mnt/btrfs-pool/subvol7-containers/redis-immich:/data"],
      "immich-server": ["/home/patriark/.local/share/containers/storage/volumes/f8d1c1ce7be3cf4fb494cced2abd53faba79b4a192700a28124ca2c693a179ea/_data:/data", "/mnt/btrfs-pool/subvol3-opptak/immich:/usr/src/app/upload", "/mnt/btrfs-pool/subvol3-opptak/immich/library:/mnt/media"],
      "loki": ["/home/patriark/containers/config/loki/loki-config.yml:/etc/loki/local-config.yaml", "/mnt/btrfs-pool/subvol7-containers/loki:/loki"],
      "node_exporter": ["/sys:/host/sys", "/proc:/host/proc", "/:/host"],
      "promtail": ["/home/patriark/containers/data/journal-export:/var/log/journal-export", "/home/patriark/containers/config/promtail:/etc/promtail", "/home/patriark/containers/data/promtail:/tmp"],
      "alertmanager": ["/home/patriark/containers/config/alertmanager/alertmanager.yml:/etc/alertmanager/alertmanager.yml", "/home/patriark/containers/data/alertmanager:/alertmanager"],
      "tinyauth": ["/home/patriark/.local/share/containers/storage/volumes/53cbb66841ffe829c9f05f6e4b6f6821ed0225b305f0d00fbaae965febcf9699/_data:/data", "/home/patriark/containers/data/tinyauth:/app/data"],
      "immich-ml": ["/mnt/btrfs-pool/subvol7-containers/immich-ml-cache:/cache"],
      "redis-authelia": ["/home/patriark/containers/data/redis-authelia:/data"],
      "traefik": ["/run/user/1000/podman/podman.sock:/var/run/podman/podman.sock", "/home/patriark/containers/scripts/traefik-entrypoint.sh:/traefik-entrypoint.sh", "/home/patriark/containers/config/traefik/traefik.yml:/etc/traefik/traefik.yml", "/home/patriark/containers/config/traefik/dynamic:/etc/traefik/dynamic", "/home/patriark/containers/config/traefik/letsencrypt:/letsencrypt"],
      "authelia": ["/home/patriark/containers/config/authelia:/config", "/home/patriark/containers/data/authelia:/data"],
      "homepage": ["/home/patriark/containers/config/homepage:/app/config"],
      "vaultwarden": ["/mnt/btrfs-pool/subvol7-containers/vaultwarden:/data"],
      "cadvisor": ["/home/patriark/.local/share/containers:/var/lib/containers", "/dev/disk:/dev/disk", "/:/rootfs", "/run/user/1000/podman/podman.sock:/var/run/docker.sock", "/sys:/sys"],
      "prometheus": ["/home/patriark/containers/config/prometheus/alerts:/etc/prometheus/alerts", "/mnt/btrfs-pool/subvol7-containers/prometheus:/prometheus", "/home/patriark/containers/config/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml"],
      "grafana": ["/home/patriark/containers/config/grafana/provisioning:/etc/grafana/provisioning", "/home/patriark/containers/data/grafana:/var/lib/grafana"]
    }
  },
  "resources": {
    "memory": {
      "total_mb": 31444,
      "used_mb": 16425,
      "available_mb": 15019,
      "percent": 52
    },
    "swap": {
      "total_mb": 8191,
      "used_mb": 5391,
      "percent": 65
    },
    "load_average": {
      "1min": 0,
      "5min": 62,
      "15min": 0
    }
  },
  "quadlet_configs": {
    "alert-discord-relay": {
      "file": "/home/patriark/.config/containers/systemd/alert-discord-relay.container",
      "image": "localhost/alert-discord-relay:latest",
      "networks": ["systemd-monitoring"],
      "memory_max": "128M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "alertmanager": {
      "file": "/home/patriark/.config/containers/systemd/alertmanager.container",
      "image": "quay.io/prometheus/alertmanager:latest",
      "networks": ["systemd-monitoring"],
      "memory_max": "256M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "authelia": {
      "file": "/home/patriark/.config/containers/systemd/authelia.container",
      "image": "docker.io/authelia/authelia:4.38",
      "networks": ["systemd-reverse_proxy", "systemd-auth_services"],
      "memory_max": "512M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "cadvisor": {
      "file": "/home/patriark/.config/containers/systemd/cadvisor.container",
      "image": "gcr.io/cadvisor/cadvisor:v0.50.0",
      "networks": ["systemd-monitoring"],
      "memory_max": "256M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "crowdsec": {
      "file": "/home/patriark/.config/containers/systemd/crowdsec.container",
      "image": "docker.io/crowdsecurity/crowdsec:v1.7.3",
      "networks": ["systemd-reverse_proxy"],
      "memory_max": "512M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "grafana": {
      "file": "/home/patriark/.config/containers/systemd/grafana.container",
      "image": "docker.io/grafana/grafana:11.3.0",
      "networks": ["systemd-reverse_proxy", "systemd-monitoring"],
      "memory_max": "1G",
      "cpu_shares": "",
      "nice": ""
    }
,
    "homepage": {
      "file": "/home/patriark/.config/containers/systemd/homepage.container",
      "image": "ghcr.io/gethomepage/homepage:latest",
      "networks": ["systemd-reverse_proxy"],
      "memory_max": "256M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "immich-ml": {
      "file": "/home/patriark/.config/containers/systemd/immich-ml.container",
      "image": "ghcr.io/immich-app/immich-machine-learning:release",
      "networks": ["systemd-photos"],
      "memory_max": "2G",
      "cpu_shares": "",
      "nice": ""
    }
,
    "immich-server": {
      "file": "/home/patriark/.config/containers/systemd/immich-server.container",
      "image": "ghcr.io/immich-app/immich-server:release",
      "networks": ["systemd-reverse_proxy", "systemd-photos", "systemd-monitoring"],
      "memory_max": "2G",
      "cpu_shares": "",
      "nice": ""
    }
,
    "jellyfin": {
      "file": "/home/patriark/.config/containers/systemd/jellyfin.container",
      "image": "docker.io/jellyfin/jellyfin:latest",
      "networks": ["systemd-reverse_proxy", "systemd-media_services", "systemd-monitoring"],
      "memory_max": "4G",
      "cpu_shares": "",
      "nice": "-5"
    }
,
    "loki": {
      "file": "/home/patriark/.config/containers/systemd/loki.container",
      "image": "docker.io/grafana/loki:3.2.1",
      "networks": ["systemd-reverse_proxy", "systemd-monitoring"],
      "memory_max": "512M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "node_exporter": {
      "file": "/home/patriark/.config/containers/systemd/node_exporter.container",
      "image": "quay.io/prometheus/node-exporter:latest",
      "networks": ["systemd-monitoring"],
      "memory_max": "128M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "postgresql-immich": {
      "file": "/home/patriark/.config/containers/systemd/postgresql-immich.container",
      "image": "ghcr.io/immich-app/postgres:14-vectorchord0.4.3-pgvectors0.2.0",
      "networks": ["systemd-photos"],
      "memory_max": "1G",
      "cpu_shares": "",
      "nice": ""
    }
,
    "prometheus": {
      "file": "/home/patriark/.config/containers/systemd/prometheus.container",
      "image": "quay.io/prometheus/prometheus:latest",
      "networks": ["systemd-reverse_proxy", "systemd-monitoring"],
      "memory_max": "1G",
      "cpu_shares": "",
      "nice": ""
    }
,
    "promtail": {
      "file": "/home/patriark/.config/containers/systemd/promtail.container",
      "image": "docker.io/grafana/promtail:3.2.1",
      "networks": ["systemd-monitoring"],
      "memory_max": "256M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "redis-authelia": {
      "file": "/home/patriark/.config/containers/systemd/redis-authelia.container",
      "image": "docker.io/library/redis:7-alpine",
      "networks": ["systemd-auth_services"],
      "memory_max": "256M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "redis-immich": {
      "file": "/home/patriark/.config/containers/systemd/redis-immich.container",
      "image": "docker.io/valkey/valkey:8",
      "networks": ["systemd-photos"],
      "memory_max": "512M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "tinyauth": {
      "file": "/home/patriark/.config/containers/systemd/tinyauth.container",
      "image": "ghcr.io/steveiliop56/tinyauth:v4",
      "networks": ["systemd-reverse_proxy", "systemd-auth_services"],
      "memory_max": "256M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "traefik": {
      "file": "/home/patriark/.config/containers/systemd/traefik.container",
      "image": "docker.io/library/traefik:v3.2",
      "networks": ["systemd-reverse_proxy", "systemd-auth_services", "systemd-monitoring"],
      "memory_max": "512M",
      "cpu_shares": "",
      "nice": ""
    }
,
    "vaultwarden": {
      "file": "/home/patriark/.config/containers/systemd/vaultwarden.container",
      "image": "docker.io/vaultwarden/server:latest",
      "networks": ["reverse_proxy.network"],
      "memory_max": "",
      "cpu_shares": "",
      "nice": ""
    }

  },
  "architecture": {
    "orchestration": "systemd quadlets",
    "runtime": "podman (rootless)",
    "networks": "isolated per service tier",
    "routing": "traefik file-based",
    "monitoring": "prometheus + grafana + loki",
    "authentication": "per-service (optional tinyauth gateway)"
  },
  "health_check_analysis": {
    "total_services": 19,
    "with_health_checks": 19,
    "without_health_checks": 0,
    "coverage_percent": 100,
    "healthy": 19,
    "unhealthy": 0,
    "services_without_checks": []
  },
  "resource_limits_analysis": {
    "total_services": 20,
    "with_limits": 19,
    "without_limits": 1,
    "coverage_percent": 95,
    "services_without_limits": ["vaultwarden"]
  },
  "configuration_drift": {
    "has_drift": true,
    "configured_but_not_running": ["crowdsec"],
    "running_but_not_configured": []
  },
  "network_utilization": {
    "systemd-auth_services": {
      "container_count": 5
    }
,
    "systemd-media_services": {
      "container_count": 2
    }
,
    "systemd-monitoring": {
      "container_count": 12
    }
,
    "systemd-photos": {
      "container_count": 5
    }
,
    "systemd-reverse_proxy": {
      "container_count": 11
    }
,
    "web_services": {
      "container_count": 1
    }

  },
  "service_uptime": {
    "jellyfin": {
      "started_at": "2025-11-08 19:50:42.434116341 +0100 CET",
      "uptime_seconds": 337030,
      "uptime_human": "3d 21h 37m"
    }
,
    "postgresql-immich": {
      "started_at": "2025-11-09 21:32:38.734869012 +0100 CET",
      "uptime_seconds": 244514,
      "uptime_human": "2d 19h 55m"
    }
,
    "redis-immich": {
      "started_at": "2025-11-09 21:32:48.431461822 +0100 CET",
      "uptime_seconds": 244504,
      "uptime_human": "2d 19h 55m"
    }
,
    "immich-server": {
      "started_at": "2025-11-09 21:33:15.008051539 +0100 CET",
      "uptime_seconds": 244477,
      "uptime_human": "2d 19h 54m"
    }
,
    "loki": {
      "started_at": "2025-11-09 21:33:28.363014605 +0100 CET",
      "uptime_seconds": 244464,
      "uptime_human": "2d 19h 54m"
    }
,
    "node_exporter": {
      "started_at": "2025-11-09 21:33:50.039233785 +0100 CET",
      "uptime_seconds": 244442,
      "uptime_human": "2d 19h 54m"
    }
,
    "promtail": {
      "started_at": "2025-11-09 21:34:10.401054452 +0100 CET",
      "uptime_seconds": 244422,
      "uptime_human": "2d 19h 53m"
    }
,
    "alertmanager": {
      "started_at": "2025-11-09 21:34:30.168182314 +0100 CET",
      "uptime_seconds": 244402,
      "uptime_human": "2d 19h 53m"
    }
,
    "alert-discord-relay": {
      "started_at": "2025-11-09 22:37:00.724410227 +0100 CET",
      "uptime_seconds": 240652,
      "uptime_human": "2d 18h 50m"
    }
,
    "tinyauth": {
      "started_at": "2025-11-10 00:42:15.700249072 +0100 CET",
      "uptime_seconds": 233137,
      "uptime_human": "2d 16h 45m"
    }
,
    "immich-ml": {
      "started_at": "2025-11-10 22:57:30.420432129 +0100 CET",
      "uptime_seconds": 153022,
      "uptime_human": "1d 18h 30m"
    }
,
    "redis-authelia": {
      "started_at": "2025-11-11 17:07:23.618377149 +0100 CET",
      "uptime_seconds": 87629,
      "uptime_human": "1d 0h 20m"
    }
,
    "traefik": {
      "started_at": "2025-11-11 22:14:52.522429328 +0100 CET",
      "uptime_seconds": 69180,
      "uptime_human": "19h 13m"
    }
,
    "authelia": {
      "started_at": "2025-11-11 22:16:44.165268834 +0100 CET",
      "uptime_seconds": 69068,
      "uptime_human": "19h 11m"
    }
,
    "homepage": {
      "started_at": "2025-11-11 23:14:30.928776939 +0100 CET",
      "uptime_seconds": 65602,
      "uptime_human": "18h 13m"
    }
,
    "vaultwarden": {
      "started_at": "2025-11-12 11:58:14.819584425 +0100 CET",
      "uptime_seconds": 19778,
      "uptime_human": "5h 29m"
    }
,
    "cadvisor": {
      "started_at": "2025-11-12 15:47:26.311505228 +0100 CET",
      "uptime_seconds": 6026,
      "uptime_human": "1h 40m"
    }
,
    "prometheus": {
      "started_at": "2025-11-12 15:48:16.024265495 +0100 CET",
      "uptime_seconds": 5976,
      "uptime_human": "1h 39m"
    }
,
    "grafana": {
      "started_at": "2025-11-12 16:22:09.396271079 +0100 CET",
      "uptime_seconds": 3943,
      "uptime_human": "1h 5m"
    }

  },
  "health_check_validation": {
    "validated_services": {
      "jellyfin": {
        "health_check_command": ["CMD-SHELL","curl -f http://localhost:8096/health || exit 1"],
        "binary_used": "curl",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "postgresql-immich": {
        "health_check_command": ["CMD-SHELL","pg_isready -U immich -d immich"],
        "binary_used": "",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "redis-immich": {
        "health_check_command": ["CMD-SHELL","valkey-cli ping"],
        "binary_used": "valkey-cli",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "immich-server": {
        "health_check_command": ["CMD-SHELL","curl -f http://localhost:2283/api/server/ping || exit 1"],
        "binary_used": "curl",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "loki": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://localhost:3100/ready || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "node_exporter": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://localhost:9100/metrics || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "promtail": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://localhost:9080/ready || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "alertmanager": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://localhost:9093/-/healthy || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "alert-discord-relay": {
        "health_check_command": ["CMD-SHELL","python3 -c \"import urllib.request; urllib.request.urlopen('http://localhost:9095/health', timeout=5)\" || exit 1"],
        "binary_used": "python3",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "tinyauth": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://localhost:3000/ || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "immich-ml": {
        "health_check_command": ["CMD-SHELL","python3 -c \"import urllib.request; urllib.request.urlopen('http://127.0.0.1:3003/ping', timeout=5)\" || exit 1"],
        "binary_used": "python3",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "redis-authelia": {
        "health_check_command": ["CMD-SHELL","redis-cli ping"],
        "binary_used": "redis-cli",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "traefik": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://localhost:8080/ping || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "authelia": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://127.0.0.1:9091/api/health || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "homepage": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://127.0.0.1:3000 || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "vaultwarden": {
        "health_check_command": ["CMD-SHELL","curl -f http://localhost:80/ || exit 1"],
        "binary_used": "curl",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "cadvisor": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://localhost:8080/healthz || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "prometheus": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://localhost:9090/-/healthy || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }
,
      "grafana": {
        "health_check_command": ["CMD-SHELL","wget --no-verbose --tries=1 --spider http://localhost:3000/api/health || exit 1"],
        "binary_used": "wget",
        "validation_status": "valid",
        "current_health_status": "healthy",
        "severity": "info",
        "issue": "",
        "recommendation": ""
      }

    },
    "summary": {
      "total_services_with_healthchecks": 19
    }
  },
  "recommendations": {
    "priority_actions": [
      {
        "priority": "low",
        "category": "configuration_drift",
        "service": "crowdsec",
        "issue": "Service configured in quadlet but not running",
        "impact": "Configuration drift may indicate incomplete deployment or abandoned service",
        "fix_command": "Either start the service: systemctl --user start crowdsec.service OR remove unused quadlet: rm ~/.config/containers/systemd/crowdsec.container && systemctl --user daemon-reload",
        "estimated_time": "2 minutes"
      }

    ],
    "summary": {
      "total_recommendations": 1,
      "by_priority": {
        "high": 0,
        "medium": 0,
        "low": 0
      }
    }
  }
}
