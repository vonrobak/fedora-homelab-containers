# Unpoller Configuration
# Metrics exporter for UniFi Network Application
# Documentation: https://unpoller.com/docs/install/configuration

[poller]
  # Polling interval for UniFi controller
  interval = "30s"
  # Enable debug logging (set to false in production)
  debug = false
  # Quiet mode (minimal logging)
  quiet = false

[prometheus]
  # HTTP server settings for Prometheus scraping
  http_listen = "0.0.0.0:9130"
  # Report total errors instead of per-interval errors
  report_errors = false

[unifi]
  # REQUIRED: Configure your UniFi controller connection
  # You can set these via environment variables:
  #   UP_UNIFI_DEFAULT_URL
  #   UP_UNIFI_DEFAULT_USER
  #   UP_UNIFI_DEFAULT_PASS

  [unifi.defaults]
    # UniFi controller URL (replace with your controller)
    # Examples:
    #   - Cloud Key: https://192.168.1.1:8443
    #   - Dream Machine: https://192.168.1.1
    #   - Self-hosted: https://unifi.patriark.org
    url = "${UP_UNIFI_DEFAULT_URL}"

    # UniFi credentials (local user recommended, not Ubiquiti account)
    user = "${UP_UNIFI_DEFAULT_USER}"
    pass = "${UP_UNIFI_DEFAULT_PASS}"

    # Verify SSL certificate (set false for self-signed)
    verify_ssl = false

    # Save data for debugging (disable in production)
    save_ids = false
    save_dpi = false
    save_sites = true

  # Multiple controllers can be configured:
  # [[unifi.controllers]]
  #   url = "https://controller2.example.com"
  #   user = "unifipoller"
  #   pass = "secret"

[influxdb]
  # InfluxDB integration (disabled - using Prometheus)
  disable = true

[loki]
  # Loki logging integration (optional)
  disable = true
