# ============================================
# Homelab Git Ignore - Comprehensive
# ============================================

# Sensitive Information
*.key
*.pem
*.crt
*secret*
!.claude/hooks/*secret*.sh   # Exception: pre-commit hooks that validate secrets
*password*
*api_key*
*apiKey*
*apikey*
*.env
acme.json
**/acme.json

# OCIS Generated Config (instance-specific, created by 'ocis init')
# Contains instance UUIDs and auto-generated settings. Secrets handled via Podman secrets.
config/ocis/ocis.yaml

# SSL/TLS Certificates
config/traefik/letsencrypt/
**/letsencrypt/
**/certificates/

# Database Files (ALL databases are runtime data)
*.db
*.db-shm
*.db-wal
*.sqlite
*.sqlite3

# CrowdSec Runtime Data
data/crowdsec/db/
data/crowdsec/*.db
**/*.mmdb

# Jellyfin Runtime Data
config/jellyfin/data/
config/jellyfin/metadata/
config/jellyfin/cache/
config/jellyfin/log/
config/jellyfin/transcodes/
config/jellyfin/transcoding-temp/

# Automated Reports Directory
# Contains system-generated reports (intel, resource forecasts, diagnostics)
# that are regenerated regularly and don't need version control
docs/99-reports/

# Claude Code Context Files
# Ephemeral state files that change constantly and aren't valuable in git history
.claude/context/
.claude/remediation/metrics-history.json

# Container Runtime
*.pid
*.sock

# Cache & Temporary Files
cache/*
**temp/
**tmp/
backups/*
data/*
*.tmp
*.bak
*.swp
*~
*.backup

# ═══════════════════════════════════════════════════════════
# CONFIGURATION IN DATA DIRECTORY (Alternative 1: Selective Exceptions)
# ═══════════════════════════════════════════════════════════
# Some services store configuration in data/ because they modify it at runtime.
# We selectively track custom configs while excluding secrets and runtime state.

# CrowdSec: Un-ignore parent directories first (gitignore requires this)
!data/crowdsec/
!data/crowdsec/config/
!data/crowdsec/config/parsers/
!data/crowdsec/config/parsers/s02-enrich/

# CrowdSec: Track custom configs
!data/crowdsec/config/profiles.yaml
!data/crowdsec/config/acquis.yaml
!data/crowdsec/config/parsers/s02-enrich/local-whitelist.yaml

# CrowdSec: Re-ignore everything else in config (secrets, hub, etc.)
data/crowdsec/config/*
!data/crowdsec/config/profiles.yaml
!data/crowdsec/config/acquis.yaml
!data/crowdsec/config/parsers/
data/crowdsec/config/parsers/*
!data/crowdsec/config/parsers/s02-enrich/
data/crowdsec/config/parsers/s02-enrich/*
!data/crowdsec/config/parsers/s02-enrich/local-whitelist.yaml

# Logs
*.log
**/logs/

# Backup files (may contain old secrets)
**/backup/
**/*.bak

# OS Files
.DS_Store
Thumbs.db
.directory

# Editor Files
.vscode/
.idea/
*.swp
*.swo

# Git backups
.git.backup*
users_database.yml

# Configuration files with embedded secrets (use .example templates instead)
config/alertmanager/alertmanager.yml
*.env.decommissioned-*
test-restore/
config/gathio/config.toml

# qBittorrent Runtime Data (contains private tracker passkeys, download state)
config/qbittorrent/

# Home Assistant Runtime Data (auto-generated by HA)
config/home-assistant/
data/home-assistant/

# Quadlet Safety Exclusions
# quadlets/ is now a symlink to ~/.config/containers/systemd
# Track all production quadlets (they use Podman secrets)
# Exclude only test/experimental quadlets with placeholder credentials
quadlets/*-test.container
quadlets/*-experimental.container
quadlets/*.container.bak
quadlets/*.network.bak
